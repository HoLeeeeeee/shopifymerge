{{ assign 'secidlast' (replace section.id '-' '_') }}
<style>
  .tnv30operation-fixbox-{{ secidlast }}{
    padding-top:{{ divided_by section.settings.top_dis 19.2 }}vw;
    padding-bottom:{{ divided_by section.settings.bottom_dis 19.2 }}vw;
    {{#if section.settings.bg_image }}
     background: url("{{ image_url section.settings.bg_image }}") no-repeat;
    background-size: 100% auto;
    background-position: center bottom;
   {{/if}}
  }
   {{#if section.settings.bg_mbimage }}
   @media (max-width:768px){
.tnv30operation-fixbox-{{ secidlast }}{
     background-image: url("{{ image_url section.settings.bg_mbimage }}");    padding-bottom: 20vw !important;

}
   }

   {{/if}}

</style>


<div class="tnv30operation-container" id="tnv30operationfbox-{{ secidlast }}">
<div class="tnv30operation-fixbox tnv30operation-fixbox-{{ secidlast }}">
  
  <div class="tnv30operation-wp container-ho  tnv30operation-wp-{{ section.settings.position }}">
  <div class="tnv30operationimg">
    {{#if section.settings.image }}<img id="tnv30operationimg-{{secidlast}}" class="tnvoperationimghoover" alt src="{{ image_url section.settings.image }}"/><img class="tnvoperationimgho" alt src="{{ image_url section.settings.image }}"/>{{/if }}
  </div>
  
  <div class="tnv30operationtext">
   {{#if section.settings.title '!=' '' }}
    <div class="tnv30operationtext-title">
    {{ section.settings.title }}
    </div>
  {{/if }}
  {{#if section.settings.content '!=' '' }}
    <div class="tnv30operationtext-content">
    {{{section.settings.content}}}
    </div>
  {{/if }}
      <div class="tnv30or-linebox">
     {{#each section.blocks as |block| }}
        <div class="tnv30or-lineitem tnv30or-lineitem-{{ @index }}">{{#if block.settings.icon }}<img alt src="{{ image_url block.settings.icon }}"/>{{/if}}{{ block.settings.title }}</div>
      {{/each}}
    </div>
  </div>
    
  </div>
  
</div>

</div>

 <script> 
    $(function(){
      
      var controller_{{secidlast}} = new ScrollMagic.Controller();
       var tweenmaxthr_{{secidlast}} = new TimelineMax()
        .add([
       TweenMax.to("#shopline-section-header,#shopline-section-announcement-bar", 0.5, {className: "+=hidehd"}),          
       ])
        .add([
       TweenMax.to("#tnv30operationimg-{{secidlast}}", 2, {transform: "scale(0.9)"}),          
       ])
          .add([
       TweenMax.to("#shopline-section-header,#shopline-section-announcement-bar", 0.5, {className: "+=hidehd"}),          
       ])
         .add([
       TweenMax.to("#tnv30operationimg-{{secidlast}}", 3, {transform: "scale(0.7)"}), 
       TweenMax.to(".tnv30operationtext-title", 1, {className: "+=active"}),
       TweenMax.to(".tnv30operationtext-content", 1, {className: "+=active"}),
       ])
      {{#each section.blocks as |block| }}
        .add([
       TweenMax.to("#shopline-section-header,#shopline-section-announcement-bar", 1, {className: "+=hidehd"}),          
       ])
       .add([
       TweenMax.to(".tnv30or-lineitem-{{ @index }}", 0.8, {className: "+=active"}),
       ])  
      {{/each}}
      .add([
       TweenMax.to("#shopline-section-header,#shopline-section-announcement-bar", 2, {className: "+=hidehd"}),          
       ])

      
     var beishu_nine = $(window).width()/1920;
      if($(window).width() > 768){
        var n_beshu = beishu_nine*465; 
        var offsetho = 700;  
      }else if($(window).width() <= 768 && $(window).width() > 550){
         var n_beshu = beishu_nine*800; 
         var offsetho = 300;
      }else{
         var n_beshu = beishu_nine*1750; 
         var offsetho = 300;
      } 
                         
     $(window).resize(function() {      
        if($(window).width() > 768){
        var n_beshu = beishu_nine*465; 
             var offsetho = 700;   
      }else if($(window).width() <= 768 && $(window).width() > 550){
         var n_beshu = beishu_nine*800; 
         var offsetho = 300;
      }else{
         var n_beshu = beishu_nine*1750; 
         var offsetho = 300;
      }        
      });
 
       new ScrollMagic.Scene({triggerElement: "#tnv30operationfbox-{{secidlast}}", duration: offsetho*4,offset: n_beshu})
        .setTween(tweenmaxthr_{{secidlast}})
		.setPin("#tnv30operationfbox-{{secidlast}}")
         .on("enter", function(e) {
        })
        .on("leave", function(e) {
          
        })
        .addTo(controller_{{secidlast}}); 
     
    });         
</script> 

{{#schema}}
  {
    "name": "Operation",
    "settings": [
      {
        "type": "select",
        "id": "position",
        "label": "Image Position",
        "options": [
          {
            "value": "left",
            "label": "Left"
          },{
            "value": "right",
            "label": "Right"
          }
        ],
        "default": "left"
      },{
        "type":"image_picker",
        "id":"image",
        "label":"Image"
      },{
        "type":"text",
        "id":"title",
        "label":"Title"
      },{
        "type":"richtext",
        "id":"content",
        "label":"Content"
      },{
        "id": "top_dis",
        "type": "range",
        "label": "Top Distence",
        "default": 100,
        "min": 0,
        "max": 200,
        "step": 2,
        "unit": "px"
      },
      {
        "id": "bottom_dis",
        "type": "range",
        "label": "Botttom Distence",
        "default": 100,
        "min": 0,
        "max": 200,
        "step": 2,
        "unit": "px"
      },{
        "type":"image_picker",
        "id":"bg_image",
        "label":"Background Image"
      },{
        "type":"image_picker",
        "id":"bg_mbimage",
        "label":"Background Image(mobile)"
      }
      
	],
        "blocks": [
        {
            "type": "item",
            "name": "item",
            "settings": [
                {
                  "type":"image_picker",
                  "id":"icon",
                  "label":"Icon"
                },{
                    "type": "text",
                    "id": "title",
                    "label": "Title"
                }
            ]
        }
    ],
	"presets": [
      {
        "name": "Operation","category": "Ho-Advance"
      }
    ]
  }
{{/schema}}