<!-- new-background-text-size-width.liquid -->
{{{stylesheet_tag (asset_url "section-new-background-text-size-width.css")}}}

{{#each section.blocks}}
  {{assign "block" this}}
  <div class="bg-text-link">
    {{#if block.settings.image}}
      <img
        class="hide-mb lazyload"
        src="{{image_url block.settings.image width=10}}"
        data-src="{{image_url block.settings.image}}"
        width="{{block.settings.image.width}}"
        height="{{block.settings.image.height}}"
        loading="lazy"
        alt=""
      />
    {{/if}}

    {{#if block.settings.image_mb}}
      <img
        class="hide-pc lazyload"
        src="{{image_url block.settings.image_mb width=10}}"
        data-src="{{image_url block.settings.image_mb}}"
        width="{{block.settings.image_mb.width}}"
        height="{{block.settings.image_mb.height}}"
        loading="lazy"
        alt=""
      />
    {{else}}
      <img
        class="hide-pc lazyload"
        src="{{image_url block.settings.image width=10}}"
        data-src="{{image_url block.settings.image}}"
        width="{{block.settings.image.width}}"
        height="{{block.settings.image.height}}"
        loading="lazy"
        alt=""
      />
    {{/if}}
    {{#if
      block.settings.title
      "!=="
      "none"
      "||"
      block.settings.text
      "!=="
      "none"
      "||"
      block.settings.checkout
      "||"
      block.settings.btn
      "!=="
      "none"
    }}
      <div
        class="bg-text-wrapper animation-text
          bg-text-wrapper-{{block.id}}
          {{#if block.settings.layout '==' 'right'}} right-layout{{/if}}"
      >
        <div class="page-width">
          <div class="bg-text-box">
            {{#if block.settings.title "!=" "none"}}
              <h2 class="fadein-0">{{newline_to_br block.settings.title}}</h2>
            {{/if}}

            {{#if block.settings.text "!=" "none"}}
              <p class="fadein-05">{{newline_to_br block.settings.text}}</p>
            {{/if}}

            {{#if block.settings.checkout}}
              <a class="btn-checkout-open btn btn--primary btn240 fadein-1" href="javascript:void(0)">Buy Now</a>
            {{else}}
              {{#if block.settings.btn "!=" "none" "&&" block.settings.link "!=" "none"}}
                <a class="btn btn--primary btn240 fadein-1" href="{{block.settings.link}}">
                  {{block.settings.btn -}}
                </a>
              {{/if}}
            {{/if}}
          </div>
        </div>
      </div>
    {{/if}}

    <style>
      {{#if block.settings.show_font}}
        .bg-text-link-size-width .bg-text-wrapper-{{ block.id }} h2,
        .bg-text-link-size-width .bg-text-wrapper-{{ block.id }} p,
        .bg-text-link-size-width .bg-text-wrapper-{{ block.id }} .btn {
          font-family: {{ block.settings.base_font_family.family }}, sans-serif;
        }
      {{/if}}
      .bg-text-link-size-width .bg-text-wrapper-{{ block.id }} h2,.bg-text-link-size-width .bg-text-wrapper-{{ block.id }} p {
        color:{{ block.settings.text_color}};
      }
      .bg-text-link-size-width .bg-text-link p {
        line-height: 1.5;
      }
      .bg-text-link-size-width .bg-text-wrapper-{{ block.id }} .btn {
        background:{{ block.settings.btn_bg_color}};
        border-color:{{ block.settings.btn_bg_color}};
        font-size:{{ block.settings.btn_font_size_pc }};
        font-weight:{{ block.settings.btn_font_weight }};
      }
      .bg-text-link-size-width .bg-text-wrapper-{{ block.id }} .btn:hover {
        background:{{ block.settings.btn_bg_color_hover}};border-color:{{ block.settings.btn_bg_color_hover}};
      }
      .bg-text-link-size-width .bg-text-wrapper-{{ block.id }}.right-layout .bg-text-box {
        float:right;
      }
      {{#if block.settings.title "!=" "none"}}
        .bg-text-link-size-width .bg-text-wrapper-{{ block.id }} h2 {
          font-size: {{ block.settings.heading_font_size_pc }} !important;
          font-weight:{{ block.settings.heading_font_weight }};
        }
      {{/if}}
      {{#if block.settings.text "!=" "none"}}
        .bg-text-link-size-width .bg-text-wrapper-{{ block.id }} p {
            font-size: {{ block.settings.sheading_font_size_pc }} !important;
            font-weight:{{ block.settings.sheading_font_weight }};
        }
      {{/if}}

      @media (max-width:768px){
        {{#if block.settings.title "!=" "none"}}
          .bg-text-link-size-width .bg-text-wrapper-{{ block.id }} h2{
            font-size: {{ block.settings.heading_font_size_mb }} !important;
          }
        {{/if}}
        {{#if block.settings.text "!=" "none"}}
          .bg-text-link-size-width .bg-text-wrapper-{{ block.id }} p{
            font-size: {{ block.settings.sheading_font_size_mb }}px !important;
          }
        {{/if}}

        .bg-text-link-size-width .bg-text-link p {
          font-size: {{ block.settings.sheading_font_size_mb }}px !important;
        }
        .bg-text-link-size-width .bg-text-wrapper-{{ block.id }} .btn {
          font-size:{{ block.settings.btn_font_size_mb }}px;
        }

        .bg-text-link-size-width .bg-text-wrapper-{{ block.id }}.right-layout .bg-text-box {
          float: unset;
        }
      }
      @media (min-width: 769px){
        .bg-text-link-size-width .bg-text-wrapper{
          position: absolute;
          left: 0;
          top:50%;
          transform: translateY(-50%);
          width:100%;
        }
        .bg-text-link-size-width .bg-text-box{max-width: {{ block.settings.text_width_pc }}%; width:100%;}
      }
      @media (max-width: 768px){
        .bg-text-link-size-width .bg-text-box{max-width: {{ block.settings.text_width_mb }}%; width:100%;}
        .bg-text-link-size-width .bg-text-wrapper-{{ block.id }}{ background:{{ block.settings.text_bg_color}};text-align: center; padding: 30px 15px;}
        .bg-text-link-size-width .bg-text-wrapper-{{ block.id }} .bg-text-box p,.bg-text-wrapper-{{ block.id }} .bg-text-box h2{color:{{block.settings.text_mobile_color}};}
      }
    </style>
  </div>
{{/each}}

<style>
  .bg-text-link .hide-pc,
  .bg-text-link .mb-show,
  .bg-text-link .br_mb {
    display: none !important;
  }

  @media screen and (max-width: 768px) {
    .bg-text-link .hide-pc,
    .bg-text-link .mb-show,
    .bg-text-link .br_mb {
      display: block !important;
    }

    .bg-text-link .hide-mb,
    .bg-text-link .pc-show,
    .bg-text-link.br_pc {
      display: none !important;
    }
  }
  .no-margin-section {
    margin-top: {{ section.settings.margin_top }}px !important;
  }
  .bg-text-link {
    position: relative;
  }
  .bg-text-wrapper h2 {
    font-size: 3.65vw;
    line-height: 1;
  }
  .bg-text-link img {
    width:100%;
    height: auto;
    display: block;
  }
  .bg-text-link .btn {
    margin-top: 10px;
  }
</style>

<script>
  window.addEventListener('DOMContentLoaded', () => {
    $('.btn-checkout-open').on('click', function (e) {
      e.preventDefault();
      $('.item.item_e_buy').toggleClass('open');
    });
  });
</script>

{{#schema}}
{
  "name": "New Background and Text",
  "class": "no-margin-section bg-text-link-size-width",
  "settings": [
    {
      "type": "range",
      "id": "margin_top",
      "min": 0,
      "max": 60,
      "step": 5,
      "unit": "px",
      "label": "margin top space",
      "default": 0
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Background Image PC",
          "info": "Size: 1920px*800px"
        },
        {
          "type": "image_picker",
          "id": "image_mb",
          "label": "Background Image Mobile",
          "info": "Size: 750px*468px"
        },
        {
          "type": "header",
          "content": "Base font family"
        },
        {
          "type": "checkbox",
          "id": "show_font",
          "default": false,
          "label": "Do you want to use the font below?"
        },
        {
          "type": "font_picker",
          "id": "base_font_family",
          "label": "Font",
          "default": "poppins_n4"
        },
        {
          "type": "header",
          "content": "Title Set"
        },
        {
          "type": "textarea",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "select",
          "id": "heading_font_weight",
          "label": "Title font-weight",
          "options": [
            {
              "value": "400",
              "label": "400"
            },
            {
              "value": "500",
              "label": "500"
            },
            {
              "value": "700",
              "label": "700"
            },
            {
              "value": "900",
              "label": "900"
            }
          ],
          "default": "700"
        },
        {
          "type": "text",
          "id": "heading_font_size_pc",
          "label": "Title font-size on PC",
          "default": "3.2vw"
        },
        {
          "type": "text",
          "id": "heading_font_size_mb",
          "label": "Title font-size on Mobile",
          "default": "6.5vw"
        },
        {
          "type": "header",
          "content": "Text Set"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Text"
        },
        {
          "type": "select",
          "id": "sheading_font_weight",
          "label": "Text font-weight",
          "options": [
            {
              "value": "400",
              "label": "400"
            },
            {
              "value": "500",
              "label": "500"
            },
            {
              "value": "700",
              "label": "700"
            },
            {
              "value": "900",
              "label": "900"
            }
          ],
          "default": "500"
        },
        {
          "type": "text",
          "id": "sheading_font_size_pc",
          "label": "Text font-size in PC",
          "default": "1.3vw"
        },
        {
          "type": "range",
          "id": "sheading_font_size_mb",
          "min": 10,
          "max": 30,
          "step": 1,
          "unit": "px",
          "label": "Text font-size on Mobile",
          "default": 20
        },
        {
          "type": "header",
          "content": "Content Color & Width Set"
        },
        {
          "type": "color",
          "id": "text_color",
          "label": "Title and Text Color",
          "default": "#fff"
        },
        {
          "type": "color",
          "id": "text_bg_color",
          "label": " Title and Text Background Color on Mobile",
          "default": "#282D1F"
        },
        {
          "type": "color",
          "id": "text_mobile_color",
          "label": " Text Color on Mobile",
          "default": "#fff"
        },
        {
          "type": "range",
          "id": "text_width_pc",
          "label": "Text width on PC",
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "%",
          "default": 40
        },
        {
          "type": "range",
          "id": "text_width_mb",
          "label": "Text width on mobile",
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "%",
          "default": 100
        },
        {
          "type": "select",
          "id": "layout",
          "label": "Text Position",
          "default": "left",
          "options": [
            {
              "value": "left",
              "label": "Text On Left"
            },
            {
              "value": "right",
              "label": "Text On Right"
            }
          ]
        },
        {
          "type": "header",
          "content": "Button Set"
        },
        {
          "type": "text",
          "id": "btn",
          "label": "Button Text",
          "default": "Shop Now"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Button Link"
        },
        {
          "type": "select",
          "id": "btn_font_weight",
          "label": "Button font-weight",
          "options": [
            {
              "value": "400",
              "label": "400"
            },
            {
              "value": "500",
              "label": "500"
            },
            {
              "value": "700",
              "label": "700"
            },
            {
              "value": "900",
              "label": "900"
            }
          ],
          "default": "500"
        },
        {
          "type": "color",
          "id": "btn_bg_color",
          "label": "Button Background Color",
          "default": "#ff6000"
        },
        {
          "type": "color",
          "id": "btn_bg_color_hover",
          "label": "Button Hover Background Color",
          "default": "#019cb6"
        },
        {
          "type": "text",
          "id": "btn_font_size_pc",
          "label": "Button font-size in PC",
          "default": "18px"
        },
        {
          "type": "range",
          "id": "btn_font_size_mb",
          "min": 10,
          "max": 20,
          "step": 1,
          "unit": "px",
          "label": "Button font-size on Mobile",
          "default": 14
        },
        {
          "type": "checkbox",
          "id": "checkout",
          "label": "Go to Checkout Page",
          "default": false
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "New Background and Text",
      "category": "text"
    }
  ]
}
{{/schema}}