{% liquid
  assign secid = section.id | split:"__" 
  assign secidlast = secid[1] | replace: "-","_"
%}

  <div class="simnavsw-box swpbtnbox" id="simnavob-{{ secidlast }}">
    <div class="contain-index">
    {% if section.settings.title != blank %}
        <div class="simnavsw-toptitle animate-ele">{{ section.settings.title }}</div> 
    {% endif %}
      <div class="simnavsw-content animate-ele">
 
  <div class="simnavsw-conleft">
    <div class="simconleft-mbcgnav">
     {% for block in section.blocks %} 
      {% if block.settings.title != blank %}<div class="simnavsw-conleft-ittitle simnavsw-conleft-ittitle-{{ forloop.index0 }}{% if forloop.first %} active{% endif %}" data-index="{{ forloop.index0 }}">{{ block.settings.title }}</div>{% endif %}
    {% endfor %}
    </div>
    {% for block in section.blocks %} 
    <div class="simnavsw-conleft-item">
      {% if block.settings.title != blank %}<div class="simnavsw-conleft-ittitle simnavsw-conleft-ittitle-{{ forloop.index0 }}{% if forloop.first %} active{% endif %}" data-index="{{ forloop.index0 }}">{{ block.settings.title }}</div>{% endif %}
      {% if block.settings.content != blank %}<div class="simnavsw-conleft-itcon simnavsw-conleft-itcon-{{ forloop.index0 }}">{{ block.settings.content }}</div>{% endif %}
    </div>
    {% endfor %}
  </div>
        
     <div class="simnavsw-conright">
         <div class="swiper-button-prev swpallbtn simnavswprev-{{ secidlast }}"><svg width="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="25" cy="25" r="24" stroke="currentColor" stroke-width="2"/>
<path d="M26.2939 19.2939L20.2939 25.2939L26.2939 31.2939" stroke="currentColor" stroke-width="2"/>
</svg>
</div>
       <div class="swiper-button-next swpallbtn simnavswnext-{{ secidlast }}"><svg width="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="25" cy="25" r="24" transform="matrix(-1 0 0 1 50 0)" stroke="currentColor" stroke-width="2"/>
<path d="M23.7061 19.2939L29.7061 25.2939L23.7061 31.2939" stroke="currentColor" stroke-width="2"/>
</svg>
</div>
     <div class="simnavsw-{{ secidlast }} swiper">
    <div class="swiper-wrapper">  
      {% for block in section.blocks %} 
      <div class="swiper-slide">
       {% if block.settings.image  %}
         <div class="simnavsw-img{% if block.settings.imagemb  %} hide-mb{% endif %}"><img src="{{ block.settings.image | img_url:'master' }}" alt=" " /></div>
     {% endif %}
    {% if block.settings.imagemb  %}
     <div class="simnavsw-img hide-pc"><img  src="{{ block.settings.imagemb | img_url:'master' }}"  alt=" " /></div>
   {% endif %}
      </div>
     {% endfor %}
    </div>
  </div>
  
     </div>

  </div>
  </div>
  </div>

        <script>   
  $(function(){
      var simnavsw_{{secidlast}} = new Swiper ('.simnavsw-{{ secidlast }}', {
    slidesPerView : 1,
    observer: true,  //开启动态检查器，监测swiper和slide
    observeParents: true, 
    navigation: {
        nextEl: '.simnavswnext-{{ secidlast }}',
		prevEl: '.simnavswprev-{{ secidlast }}',
	},on:{
    slideChange: function(){ 
       $("#simnavob-{{ secidlast }} .simnavsw-conleft-ittitle").removeClass("active");
       $("#simnavob-{{ secidlast }} .simnavsw-conleft-ittitle-"+this.activeIndex).addClass("active");
       if($(window).width() > 550){
        $("#simnavob-{{ secidlast }} .simnavsw-conleft-itcon").slideUp();
        $("#simnavob-{{ secidlast }} .simnavsw-conleft-itcon-"+this.activeIndex).slideDown();
      }else{
        $("#simnavob-{{ secidlast }} .simnavsw-conleft-itcon").hide();
        $("#simnavob-{{ secidlast }} .simnavsw-conleft-itcon-"+this.activeIndex).show();
      }
       
    },
  },
   
  });

    $("#simnavob-{{ secidlast }} .simnavsw-conleft-ittitle").click(function(){
      let nowindex = $(this).data("index");
      $("#simnavob-{{ secidlast }} .simnavsw-conleft-ittitle").removeClass("active");
      $(this).addClass("active");
      {% comment %} if($(window).width() > 550){
        $("#simnavob-{{ secidlast }} .simnavsw-conleft-itcon-"+nowindex).parent().siblings().find(".simnavsw-conleft-itcon").slideUp();
      $("#simnavob-{{ secidlast }} .simnavsw-conleft-itcon-"+nowindex).stop().slideDown();
      }else{
        $("#simnavob-{{ secidlast }} .simnavsw-conleft-itcon").hide();
        $("#simnavob-{{ secidlast }} .simnavsw-conleft-itcon-"+nowindex).show();
      } {% endcomment %}
      simnavsw_{{secidlast}}.slideTo(nowindex);
    });
    
  })

</script>


{% schema %}
{
  "name": "NavSwitch",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "title"
    }
  ],
      "blocks": [
      {
        "type": "block",
        "name": "block",
        "settings": [
       {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },{
        "type": "image_picker",
        "id": "imagemb",
        "label": "Image(mobile)"
      },{
        "type": "text",
        "id": "title",
        "label": "title"
      },{
        "type": "richtext",
        "id": "content",
        "label": "content"
      }
        ]
      }
    ],
    "presets": [
      {
        "name": "NavSwitch",
        "category": "HO-layout"
      }
    ]
}
{% endschema %}