{% liquid
  assign secid = section.id | split:"__" 
  assign secidlast = secid[1] | replace: "-","_"
%}


<div id="prodvsimgswitch-out-{{ secidlast }}">
<div class="prodvsimgswitch-outbox animate-ele">
  <div class="contain-index">
  <div class="prodvsimgswitch-wrapper">


    <div class="prodvsimgswitch-nav">
      {% for block in section.blocks %}   
        {% if block.settings.navitem != blank  %}
          <div class="prodvsimgswitch-nav-item prodvsimgswitch-nav-item-{{ forloop.index0 }}{% if forloop.first %} active{% endif %}" data-index="{{ forloop.index0 }}">{{ block.settings.navitem }}</div>
        {% endif %} 
      {% endfor %}     
    </div>
    
  <div class="prodvsimgswitch-box">


    
    <div class="swiper-button-prev prodvsimgswitchbtn prodvsimgswitchprev-{{ secidlast }}"><svg width="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="25" cy="25" r="24" stroke="currentColor" stroke-width="2"/>
<path d="M26.2939 19.2939L20.2939 25.2939L26.2939 31.2939" stroke="currentColor" stroke-width="2"/>
</svg>
</div>
       <div class="swiper-button-next prodvsimgswitchbtn prodvsimgswitchnext-{{ secidlast }}"><svg width="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="25" cy="25" r="24" transform="matrix(-1 0 0 1 50 0)" stroke="currentColor" stroke-width="2"/>
<path d="M23.7061 19.2939L29.7061 25.2939L23.7061 31.2939" stroke="currentColor" stroke-width="2"/>
</svg>
</div>

    <div class="prodvsimgswitch-bottom swiper" id="prodvsimgswitch-{{ secidlast }}">

          <div class="swiper-wrapper">
      {% for block in section.blocks %}
           {% if block.type == 'text_over' %}
                 <div class="swiper-slide">        
         <div class="prodvsimgswitch-bottom-item">
         <div class="prodvsimgswitch-text">
        {%- if block.settings.title != blank -%}
        <div class="prodvsimgswitch-title">{{ block.settings.title }}</div> 
         {%- endif -%}
           {%- if block.settings.content != blank -%}
        <div class="prodvsimgswitch-content">{{ block.settings.content }}</div> 
         {%- endif -%}
           {%- if block.settings.botcontent != blank -%}
        <div class="prodvsimgswitch-botcontent">{{ block.settings.botcontent }}</div> 
         {%- endif -%}
           
         </div>
     
          <div class="prodvsimgswitch-image">
         {% if block.settings.image  %}
            <img class="{% if block.settings.imagemb %} hide-mb{% endif %}" src="{{ block.settings.image | img_url:'master' }}" alt="" />
              {% if block.settings.imagemb  %}
              <img class="hide-pc" src="{{ block.settings.imagemb | img_url:'master' }}" alt="" />
             {% endif %}
          {% endif %}
          </div>

         </div>
       </div>
          {% else %}
                 <div class="swiper-slide">        
         <div class="prodvsimgswitch-item-bet" id="prodvsis-itembet-{{ block.id }}">
         <div class="prodvsimgswitch-text">
        {%- if block.settings.title != blank -%}
        <div class="prodvsimgswitch-title">{{ block.settings.title }}</div> 
         {%- endif -%}
           {%- if block.settings.content != blank -%}
        <div class="prodvsimgswitch-content">{{ block.settings.content }}</div> 
         {%- endif -%}
           {%- if block.settings.botcontent != blank -%}
        <div class="prodvsimgswitch-botcontent">{{ block.settings.botcontent }}</div> 
         {%- endif -%}
           
         </div>
     
          <div class="prodvsimgswitch-image">
         {% if block.settings.image  %}
            <img class="{% if block.settings.imagemb %} hide-mb{% endif %}" src="{{ block.settings.image | img_url:'master' }}" alt="" />
              {% if block.settings.imagemb  %}
              <img class="hide-pc" src="{{ block.settings.imagemb | img_url:'master' }}" alt="" />
             {% endif %}
          {% endif %}
          </div>
            <style>
  #prodvsis-itembet-{{ block.id }}{
    {% if block.settings.bg_image %}
      background-image: url("{{ block.settings.bg_image | image_url }}");
    background-size: auto;
    background-position: left bottom;
          background-repeat: no-repeat;
    {% endif %}
  }

 {% if block.settings.bg_imagemb %}
  @media (max-width:768px){
     #prodvsis-itembet-{{ block.id }}{
      background-image: url("{{ block.settings.bg_imagemb | image_url }}");
  } 
  }
 {% endif %}
</style>
         </div>
       </div>
          {% endif %}

      {% endfor %}
          </div>
    </div>
    </div> 
  </div>
  </div>
</div>
</div>


<script> 
  var spb_{{ secidlast }} = new Swiper('#prodvsimgswitch-{{ secidlast }}',{
    slidesPerView : 1, 
    autoHeight:true,
    on:{
    slideChange: function(){ 
      $(".prodvsimgswitch-nav-item").removeClass("active");
       $(".prodvsimgswitch-nav-item-"+this.activeIndex).addClass("active");
    },
  },
    navigation: {
		nextEl: '.prodvsimgswitchnext-{{ secidlast }}',
		prevEl: '.prodvsimgswitchprev-{{ secidlast }}',
	},
  })
  $("#prodvsimgswitch-out-{{ secidlast }} .prodvsimgswitch-nav-item").click(function(){
     let newindex = $(this).data("index");
     spb_{{ secidlast }}.slideTo(newindex);
  });
</script>
{% schema %}
  {
   "name": "Product ImageSwitch",
  "settings": [
    
    ],
    "blocks": [
      {
        "type": "text_over",
        "name": "text_over",
        "settings": [
       {
        "type": "text",
        "id": "navitem",
        "label": "navitem"
      },{
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },{
        "type": "image_picker",
        "id": "imagemb",
        "label": "Image(mobile)"
      },{
        "type": "text",
        "id": "title",
        "label": "title"
      },{
        "type": "richtext",
        "id": "content",
        "label": "content"
      },{
        "type": "text",
        "id": "botcontent",
        "label": "bottom content"
      }
        ]
      },{
        "type": "textwidthimg",
        "name": "textwidthimg",
        "settings": [
       {
        "type": "text",
        "id": "navitem",
        "label": "navitem"
      },{
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },{
        "type": "image_picker",
        "id": "imagemb",
        "label": "Image(mobile)"
      },{
        "type": "text",
        "id": "title",
        "label": "title"
      },{
        "type": "richtext",
        "id": "content",
        "label": "content"
      },{
        "type": "text",
        "id": "botcontent",
        "label": "bottom content"
      },{
      "type": "image_picker",
      "id": "bg_image",
      "label": "Background Image"
    },
    {
      "type": "image_picker",
      "id": "bg_imagemb",
      "label": "Background Image(mobile)"
    }
        ]
      }
    ],
    "presets": [
      {
        "name": "Product ImageSwitch",
        "category": "HO-layout"
      }
    ]
  }
{% endschema %}
