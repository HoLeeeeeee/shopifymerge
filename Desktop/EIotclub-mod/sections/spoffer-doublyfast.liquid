{% liquid
  assign secid = section.id | split:"__" 
  assign secidlast = secid[1] | replace: "-","_"
%}
<style>
  #spofferdou-out-{{ secidlast }}{
    {% if section.settings.bg_image %}
      background: url("{{ section.settings.bg_image | image_url }}") no-repeat;
      background-size: 100% auto;
      background-position: center top;
    {% endif %}
  }

 {% if section.settings.bg_imagemb %}
  @media (max-width:768px){
     #spofferdou-out-{{ secidlast }}{
      background-image: url("{{ section.settings.bg_imagemb | image_url }}");
      background-position: top;
    background-size: auto;
  } 
  }
 {% endif %}
</style>

<div id="spofferdou-out-{{ secidlast }}">
<div class="spofferdou-outbox">
  <div class="contain-index">
  <div class="spofferdou-box">


  {%- if section.settings.title != blank -%}
    <div class="spofferdou-title">{{ section.settings.title }}</div> 
  {%- endif -%}
    <div class="spofferdou-nav">
      {% for block in section.blocks %}   
        {% if block.settings.title != blank  %}
          <div class="spofferdou-nav-item spofferdou-nav-item-{{ forloop.index0 }}{% if forloop.first %} active{% endif %}" data-index="{{ forloop.index0 }}">{{ block.settings.title }}</div>
        {% endif %} 
      {% endfor %}     
    </div>
    
  <div class="blogindsbotbts-box">
    <div class="swiper-button-prev spofferdoubtn spofferdouprev-{{ secidlast }}"><svg width="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="25" cy="25" r="24" stroke="currentColor" stroke-width="2"/>
<path d="M26.2939 19.2939L20.2939 25.2939L26.2939 31.2939" stroke="currentColor" stroke-width="2"/>
</svg>
</div>
       <div class="swiper-button-next spofferdoubtn spofferdounext-{{ secidlast }}"><svg width="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="25" cy="25" r="24" transform="matrix(-1 0 0 1 50 0)" stroke="currentColor" stroke-width="2"/>
<path d="M23.7061 19.2939L29.7061 25.2939L23.7061 31.2939" stroke="currentColor" stroke-width="2"/>
</svg>
</div>

    <div class="spofferdou-bottom swiper animate-ele" id="spofferdou-{{ secidlast }}">

  
          <div class="swiper-wrapper">
      {% for block in section.blocks %}
       <div class="swiper-slide">        
         <div class="spofferdou-bottom-item">
        {% if block.settings.url  %}
        <a href="{{  block.settings.url  }}">
        {% endif %}
        {% if block.settings.image  %}
          <div class="spofferdoubottom-image{% if block.settings.imagemb %} hide-mb{% endif %}"><img src="{{ block.settings.image | img_url:'master' }}" alt="" /></div>
         {% endif %}
          {% if block.settings.imagemb  %}
          <div class="spofferdoubottom-image hide-pc"><img src="{{ block.settings.imagemb | img_url:'master' }}" alt="" /></div>
         {% endif %}
        {% if block.settings.url  %}
        </a>
        {% endif %}
         </div>
       </div>
      {% endfor %}
          </div>
    </div>
    </div> 
  </div>
  </div>
</div>
</div>


<script> 
  var spb_{{ secidlast }} = new Swiper('#spofferdou-{{ secidlast }}',{
    slidesPerView : 1, on:{
    slideChange: function(){ 
      $(".spofferdou-nav-item").removeClass("active");
       $(".spofferdou-nav-item-"+this.activeIndex).addClass("active");
    },
  },
    navigation: {
		nextEl: '.spofferdounext-{{ secidlast }}',
		prevEl: '.spofferdouprev-{{ secidlast }}',
	},
  })
  $("#spofferdou-out-{{ secidlast }} .spofferdou-nav-item").click(function(){
     let newindex = $(this).data("index");
     spb_{{ secidlast }}.slideTo(newindex);
  });
</script>
{% schema %}
  {
   "name": "Doubly Fast Connect",
  "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "title"
      },
    {
      "type": "image_picker",
      "id": "bg_image",
      "label": "Background Image"
    },
    {
      "type": "image_picker",
      "id": "bg_imagemb",
      "label": "Background Image(mobile)"
    }
    ],
    "blocks": [
      {
        "type": "block",
        "name": "block",
        "settings": [
       {
        "type": "text",
        "id": "title",
        "label": "title"
      },{
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },{
        "type": "image_picker",
        "id": "imagemb",
        "label": "Image(mobile)"
      },{
        "type": "url",
        "id": "url",
        "label": "url"
      }
        ]
      }
    ],
    "presets": [
      {
        "name": "Doubly Fast Connect",
        "category": "HO-layout"
      }
    ]
  }
{% endschema %}
